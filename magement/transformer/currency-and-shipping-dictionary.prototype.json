{
  "$schema": "https://di.schema.mediact.com/register.prototype.json",
  "type": "list-transformer",
  "identifier": "netsuite-currency-shipping-dictionary",
  "name": "Netsuite Currency and Shipping Dictionary",
  "object": {
    "prototype": "chain",
    "parameters": {
      "transformers": [
        {
          "prototype": "data",
          "parameters": {
            "transformers": [
              {
                "prototype": "value-mapper",
                "parameters": {
                  "accessor": {
                    "prototype": "pattern",
                    "parameters": {
                      "pattern": "%{pathCurrency}"
                    }
                  },
                  "mappers": [
                    {
                      "prototype": "dictionary-map",
                      "parameters": {
                        "map": "%{currencyMap}",
                        "comparator": "equals-adaptive"
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "prototype": "data",
          "parameters": {
            "transformers": [
              {
                "prototype": "value-mapper",
                "parameters": {
                  "accessor": {
                    "prototype": "pattern",
                    "parameters": {
                      "pattern": "%{pathShipping}"
                    }
                  },
                  "mappers": [
                    {
                      "prototype": "dictionary-map",
                      "parameters": {
                        "map": "%{shippingMap}",
                        "comparator": "equals-adaptive"
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  },
  "schema": {
    "properties": {
      "pathCurrency": {
        "type": "string",
        "title": "Path Currency",
        "default":"currency.id",
        "ui": {
          "ui:help": "Path of currency that will be mapped"
        }
      },
      "currencyMap": {
        "type": "array",
        "title": "Currency Map",
        "default": [
          ["GBP", "1"]
        ],
        "items": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": {
            "anyOf": [
              {
                "type": "string",
                "title": "string"
              }
            ]
          }
        },
        "ui": {
          "ui:help": "default value can be changed and added"
        }
      },
      "pathShipping": {
        "type": "string",
        "title": "Path Shipping",
        "default":"shipMethod.id",
        "ui": {
          "ui:help": "Path of shipping that will be mapped"
        }
      },
      "shippingMap": {
        "type": "array",
        "title": "Shipping Map",
        "default": [
          ["ParcelForce", "10"]
        ],
        "items": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": {
            "anyOf": [
              {
                "type": "string",
                "title": "string"
              }
            ]
          }
        },
        "ui": {
          "ui:help": "default value can be changed and added"
        }
      }
    }
  }
}